{% extends 'base.html' %}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static 'blog/css/style.css' %}">
{% endblock head %}

{% block content %}

    <div class="container content-container">
        <h3><a href="{% url 'posts_categoria' categoria='todos' %}" style="color: inherit;">Todos</a></h3>
        <div class="carousel-wrap">
            <div class="owl-carousel owl-theme posts-carousel">
                {% for post in todos_posts %}
                    <div class="card hoverable post-card hover-reveal" data-merge="2" style="background-image: url({{ post.image.url }});">
                        <div class="right top favourite-button" id="favourite_button_{{ post.id }}">
                            {% if  post in favourite_posts %}
                                <i class="material-icons saved">bookmark</i>
                            {% else %}
                                <i class="material-icons">bookmark</i>
                            {% endif %}
                            <span class="post-id" style="display: none;">{{ post.id }}</span>
                        </div>
                        <div class="card-content">
                            <span class="card-title activator fill-div"><a href="{{ post.file.url }}" target="_blank" class="post-link fill-div"><h5>{{ post.title }}</h4></a></span>
                        </div>
                        <div class="card-reveal" style="background-color: rgba(0, 0, 0, 0.6); color: white;">
                            <p>{{ post.intro }}</p>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>

        {% for categoria, verbose_name, posts_categoria in categorias %}
            
            <h3><a href="{% url 'posts_categoria' categoria=categoria %}" style="color: inherit;">{{ verbose_name }}</a></h3>
            
            <div class="owl-carousel owl-theme posts-carousel">
                {% for post in posts_categoria %}
                    <div class="card hoverable post-card hover-reveal" data-merge="2" style="background-image: url({{ post.image.url }});">
                        <div class="right top favourite-button" id="favourite_button_{{ post.id }}">
                            {% if  post in favourite_posts %}
                                <i class="material-icons saved">bookmark</i>
                            {% else %}
                                <i class="material-icons">bookmark</i>
                            {% endif %}
                            <span class="post-id" style="display: none;">{{ post.id }}</span>
                        </div>
                        <div class="card-content">
                            <span class="card-title activator"><a href="{{ post.file.url }}" target="_blank" class="post-link"><h5>{{ post.title }}</h4></a></span>
                        </div>
                        <div class="card-reveal" style="background-color: rgba(0, 0, 0, 0.6); color: white;">
                            <p>{{ post.intro }}</p>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% endfor %}
    </div>

    <script src="{% static 'blog/js/script.js' %}"></script>


{% endblock content %}
